<p>Настройки</p>
<div>
  <form nz-form [nzLayout]="'horizontal'" [formGroup]="form" (ngSubmit)="submitForm()">
    <nz-form-item class="compact">
      <nz-form-control nzErrorTip="Введите портфель">
        <nz-form-label nzRequired nzFor="portfolio">Портфель</nz-form-label>
        <nz-input-group nzPrefixIcon="user">
          <input class='ant-input' formControlName="portfolio" (mousedown)="$event.stopPropagation()" nz-input
            placeholder="Портфель" />
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="compact">
      <nz-form-control nzErrorTip="Введите биржу">
        <nz-form-label nzRequired nzFor="exchange">Биржа</nz-form-label>
        <nz-input-group nzPrefixIcon="lock">
          <input class='ant-input' formControlName="exchange" (mousedown)="$event.stopPropagation()"
            placeholder="Биржа" />
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="compact">
      <nz-form-control nzErrorTip="Выберите колонки">
        <nz-form-label nzRequired nzFor="ordersColumns">Колонки заявок</nz-form-label>
        <nz-select [nzMaxTagCount]="10" [nzMaxTagPlaceholder]="tagPlaceHolder" nzMode="multiple"
          nzPlaceHolder="Выберите..." formControlName="ordersColumns">
          <nz-option *ngFor="let item of allOrdersColumns" [nzLabel]="item.name" [nzValue]="item.columnId"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="compact">
      <nz-form-control nzErrorTip="Выберите колонки">
        <nz-form-label nzRequired nzFor="stopOrdersColumns">Колонки стоп-заявок</nz-form-label>
        <nz-select [nzMaxTagCount]="10" [nzMaxTagPlaceholder]="tagPlaceHolder" nzMode="multiple"
          nzPlaceHolder="Выберите..." formControlName="stopOrdersColumns">
          <nz-option *ngFor="let item of allStopOrdersColumns" [nzLabel]="item.name" [nzValue]="item.columnId"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="compact">
      <nz-form-control nzErrorTip="Выберите колонки">
        <nz-form-label nzRequired nzFor="ordersColumns">Колонки сделок</nz-form-label>
        <nz-select [nzMaxTagCount]="10" [nzMaxTagPlaceholder]="tagPlaceHolder" nzMode="multiple"
          nzPlaceHolder="Выберите..." formControlName="tradesColumns">
          <nz-option *ngFor="let item of allTradesColumns" [nzLabel]="item.name" [nzValue]="item.columnId"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="compact">
      <nz-form-control nzErrorTip="Выберите колонки">
        <nz-form-label nzRequired nzFor="ordersColumns">Колонки позиций</nz-form-label>
        <nz-select [nzMaxTagCount]="10" [nzMaxTagPlaceholder]="tagPlaceHolder" nzMode="multiple"
          nzPlaceHolder="Выберите..." formControlName="positionsColumns">
          <nz-option *ngFor="let item of allPositionsColumns" [nzLabel]="item.name" [nzValue]="item.columnId">
          </nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item class="compact">
      <nz-form-control nzErrorTip="Выберите валюту">
        <nz-form-label nzRequired nzFor="currency">Валюта</nz-form-label>
        <nz-select formControlName="currency">
          <nz-option [nzValue]="'RUB'" nzLabel="RUB"></nz-option>
          <nz-option [nzValue]="'USD'" nzLabel="USD"></nz-option>
          <nz-option [nzValue]="'EUR'" nzLabel="EUR"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzFor="isSoldPositionsHidden">Скрыть проданные</nz-form-label>
      <nz-switch formControlName='isSoldPositionsHidden'></nz-switch>
    </nz-form-item>
    <nz-form-item class="compact">
      <nz-form-control>
        <button type="submit" nz-button nzType="primary" [disabled]="!form.valid">Сохранить</button>
      </nz-form-control>
    </nz-form-item>
  </form>
</div>

<ng-template #tagPlaceHolder let-selectedList>and {{ selectedList.length }} more selected</ng-template>
